define("home:widget/product_detail/u1/index.js", function (e) { function o(e, o) { var t = e.height(), i = e.css("height", "auto").height(); e.height(t), e.stop().animate({ height: i }, o) } { var t = e("home:widget/product_detail/u1/widget/video.js"), i = e("common:widget/plugin/dialog/dialog.js"); e("home:widget/product_detail/u1/widget/scrollTarget.js")() } $(".J_openMore").on("click", function () { var e = $(this), t = e.data("target"), i = $("." + t), a = $(".blockDetail", i); e.hasClass("close") ? (e.removeClass("close"), i.removeClass("showBlock"), a.stop().animate({ height: "0" }, 0), $(".J_openMore").trigger("detach.ScrollToFixed")) : ($(".J_openMore").trigger("detach.ScrollToFixed"), $(".J_openMore").each(function () { var e = $(this); e.removeClass("close"); var o = $("." + e.data("target")); o.removeClass("showBlock"); var t = $(".blockDetail", o); t.stop().css({ height: "0" }) }), e.addClass("close"), i.addClass("showBlock"), a.removeClass("showBlock"), a.stop().animate({ height: "0" }, 0), o(a, 0), e.scrollToFixed({ marginTop: e.hasClass("r") ? -68 : -40, offsets: !0, removeOffsets: !0, absoluteFixTop: 82, limit: function () { var e = i.offset().top + i.outerHeight(!0) - 200; return e }, preAbsolute: function () { e.addClass("no-anim") }, postAbsolute: function () { e.removeClass("no-anim") }, preFixed: function () { e.addClass("no-anim") }, postFixed: function () { e.removeClass("no-anim") } })) }), $(".J_openVideo").on("click", function () { var e = null, o = $(this).data("src"), a = $(this).data("type"), s = "", l = $(this).parent().find("img").attr("src"); 1 == a ? (l = "//www.niucache.com/static/home/widget/product_detail/u1/img/1-sec2-1_07c79b8b.jpg", s = "用户影片") : (l = "//www.niucache.com/static/home/widget/product_detail/u1/img/1-sec2-2_a697dc53.jpg", s = "设计影片"), console.log(s); var c = '<video id="video" poster="' + l + '" autoplay class="video-js" src="' + o + '" type="video/mp4" controls preload="auto"></video>'; i.alert({ title: s, content: c, leftBtn: "关闭", leftBtnCallback: function (o) { o(), e.dispose() } }), e = t("video"), e.play() }) });